<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# config

```go
import "github.com/aexvir/skladka/internal/config"
```

Package config handles the application configuration through environment variables and command line flags. It uses github.com/ardanlabs/conf for parsing configuration values into strongly typed configuration structs. All environment variables are prefixed with "SKD\_" automatically.

Configuration can be provided via environment variables or command line flags. Command line flags take precedence over environment variables.

Example usage:

```
cfg, err := config.Load()
if err != nil {
	if err.Error() == "help requested" {
		fmt.Println(err)
		os.Exit(0)
	}
	log.Fatal(err)
}

// Access configuration values
fmt.Printf("Running in %s environment\n", cfg.Environment)
fmt.Printf("Database host: %s:%d\n", cfg.Postgres.Host, cfg.Postgres.Port)
```

## Index

- [Variables](<#variables>)
- [type Config](<#Config>)
  - [func Load\(\) \(Config, error\)](<#Load>)
- [type Core](<#Core>)
- [type Observability](<#Observability>)
- [type Otlp](<#Otlp>)
- [type Postgres](<#Postgres>)


## Variables

<a name="BuildBranch"></a>

```go
var (
    BuildBranch   = "local"
    BuildRevision = "dev"
    BuildDate     = "2006-01-02T15:04:05Z07:00"
)
```

<a name="ErrHelpWanted"></a>ErrHelpWanted indicates that the \-\-help flag was passed to the binary

```go
var ErrHelpWanted = errors.New("help requested")
```

<a name="Config"></a>
## type [Config](<https://github.com/aexvir/skladka/blob/master/internal/config/config.go#L20-L26>)



```go
type Config struct {
    conf.Version

    Core
    Postgres
    Observability
}
```

<a name="Load"></a>
### func [Load](<https://github.com/aexvir/skladka/blob/master/internal/config/config.go#L69>)

```go
func Load() (Config, error)
```



<a name="Core"></a>
## type [Core](<https://github.com/aexvir/skladka/blob/master/internal/config/config.go#L28-L37>)



```go
type Core struct {
    // Current deployment hostname.
    Hostname string `conf:"hostname,env:HOSTNAME"`
    // EncryptionKey used to encrypt all paste data.
    EncryptionKey string `conf:"encryption-key,env:ENCRYPTION_KEY"`
    // EncryptionSalt used to encrypt all paste data.
    EncryptionSalt string `conf:"encryption-salt,env:ENCRYPTION_SALT"`
    // Environment the application is running in.
    Environment string `conf:"env,env:ENVIRONMENT,default:dev"`
}
```

<a name="Observability"></a>
## type [Observability](<https://github.com/aexvir/skladka/blob/master/internal/config/config.go#L54-L58>)



```go
type Observability struct {
    Logging Otlp `conf:"logging"`
    Metrics Otlp `conf:"metrics"`
    Tracing Otlp `conf:"tracing"`
}
```

<a name="Otlp"></a>
## type [Otlp](<https://github.com/aexvir/skladka/blob/master/internal/config/config.go#L60-L67>)



```go
type Otlp struct {
    // Enabled controls if this otlp exporter should be used or not.
    Enabled bool `conf:"enabled"`
    // Host where the otlp collector can be reached at.
    Host string `conf:"host"`
    // Port where the otlp collector is listening in.
    Port int `conf:"port"`
}
```

<a name="Postgres"></a>
## type [Postgres](<https://github.com/aexvir/skladka/blob/master/internal/config/config.go#L39-L52>)



```go
type Postgres struct {
    // Host where the postgres db can be reached at.
    Host string `conf:"host,env:POSTGRES_HOST"`
    // Port where the database is listening in.
    Port int `conf:"port,env:POSTGRES_PORT,default:5432"`
    // User to use for database queries.
    User string `conf:"user,env:POSTGRES_USER"`
    // Password for the db user.
    Password string `conf:"pass,env:POSTGRES_PASS"`
    // Database the application should connect to.
    Database string `conf:"db,env:POSTGRES_DB"`
    // URL is the full postgres connection URL in the format: postgres://user:pass@host:port/db
    URL string `conf:"url,env:POSTGRES_DB_URL"`
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
